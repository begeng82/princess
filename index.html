<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Galaxy Love Hand Control ðŸ’•</title>
<style>
body{
  margin:0;
  overflow:hidden;
  background:black;
  font-family:Arial;
}
video,canvas{
  position:absolute;
  top:0;left:0;
}
#text{
  position:fixed;
  bottom:30px;
  width:100%;
  text-align:center;
  font-size:30px;
  color:#ff66ff;
  text-shadow:0 0 25px hotpink;
  animation:pulse 1.5s infinite alternate;
}
@keyframes pulse{
  from{transform:scale(1);}
  to{transform:scale(1.1);}
}

.heart{
  position:absolute;
  font-size:22px;
  pointer-events:none;
  animation:float 2s linear forwards;
}
@keyframes float{
  from{opacity:1;}
  to{transform:translateY(-200px);opacity:0;}
}

.particle{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  pointer-events:none;
  animation:burst 1.5s linear forwards;
}
@keyframes burst{
  from{opacity:1;transform:translate(0,0) scale(1);}
  to{opacity:0;transform:translate(var(--x),var(--y)) scale(0);}
}
</style>
</head>
<body>

<video id="video" autoplay playsinline></video>
<canvas id="canvas"></canvas>
<div id="text">Show your hand âœ‹</div>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<script>
const video=document.getElementById("video");
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
const text=document.getElementById("text");

canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

const hands=new Hands({
  locateFile:file=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`
});
hands.setOptions({
  maxNumHands:1,
  minDetectionConfidence:0.7,
  minTrackingConfidence:0.7
});

let galaxy=[];
let rotationSpeed=0.003;
let lastGesture="";

function createGalaxy(){
  galaxy=[];
  for(let i=0;i<1000;i++){
    galaxy.push({
      angle:Math.random()*Math.PI*2,
      radius:Math.random()*250,
      speed:Math.random()*0.003+0.001,
      color:`hsl(${Math.random()*360},100%,70%)`
    });
  }
}
createGalaxy();

function drawGalaxy(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  let cx=canvas.width/2;
  let cy=canvas.height/2;

  galaxy.forEach(p=>{
    p.angle+=p.speed+rotationSpeed;
    let x=cx+Math.cos(p.angle)*p.radius;
    let y=cy+Math.sin(p.angle)*p.radius;
    ctx.fillStyle=p.color;
    ctx.fillRect(x,y,2,2);
  });
  requestAnimationFrame(drawGalaxy);
}
drawGalaxy();

hands.onResults(results=>{
  if(results.multiHandLandmarks){
    detectGesture(results.multiHandLandmarks[0]);
  } else {
    text.innerText="Show your hand âœ‹";
  }
});

const camera=new Camera(video,{
  onFrame:async()=>{await hands.send({image:video});},
  width:640,height:480
});
camera.start();

function isUp(lm,tip,pip){
  return lm[tip].y < lm[pip].y;
}

function detectGesture(lm){
  let thumb=isUp(lm,4,2);
  let index=isUp(lm,8,6);
  let middle=isUp(lm,12,10);
  let ring=isUp(lm,16,14);
  let pinky=isUp(lm,20,18);

  let gesture="";

  if(index && !middle && !ring && !pinky) gesture="POINT";
  else if(index && middle && ring && pinky && thumb) gesture="OPEN";
  else if(!index && !middle && !ring && !pinky) gesture="FIST";
  else if(index && middle && !ring && !pinky) gesture="PEACE";
  else gesture="OTHER";

  if(gesture!==lastGesture){
    galaxyBurst();
    lastGesture=gesture;
  }

  if(gesture==="POINT"){
    text.innerText="I Love You MIESHELLA ðŸ’•";
    spawnHearts();
  }
  else if(gesture==="OPEN"){
    rotationSpeed=0.01;
    text.innerText="Galaxy Speed ðŸš€";
  }
  else if(gesture==="FIST"){
    rotationSpeed=0.001;
    text.innerText="Galaxy Calm ðŸŒŒ";
  }
  else if(gesture==="PEACE"){
    createGalaxy();
    text.innerText="New Galaxy âœ¨";
  }
  else{
    text.innerText="Show your hand âœ‹";
  }
}

function galaxyBurst(){
  for(let i=0;i<40;i++){
    const p=document.createElement("div");
    p.className="particle";
    p.style.left=window.innerWidth/2+"px";
    p.style.top=window.innerHeight/2+"px";
    p.style.background=`hsl(${Math.random()*360},100%,70%)`;
    p.style.setProperty("--x",(Math.random()-0.5)*500+"px");
    p.style.setProperty("--y",(Math.random()-0.5)*500+"px");
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),1500);
  }
}

function spawnHearts(){
  for(let i=0;i<10;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.innerHTML="ðŸ’–";
    h.style.left=Math.random()*window.innerWidth+"px";
    h.style.top=window.innerHeight+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),2000);
  }
}

window.addEventListener("resize",()=>{
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
});
</script>
</body>
</html>
